import type { Metadata } from 'next';
import { Geist, Geist_Mono } from 'next/font/google';
import '@/app/globals.css';
import SearchBar from '@/components/SearchBar';

import { ClerkProvider } from '@clerk/nextjs';
import UserClerkMenu from '@/components/UserClerkMenu';
import { ThemeProvider } from '@/lib/ThemeProvider';
import { ThemeSwitch } from '@/components/ThemeSwitch';
import { Toaster } from '@/components/ui/toaster';
import { ConvexClientProvider } from '@/components/ConvexProviderHelper';
import Link from 'next/link';
import { ROUTES } from '@/lib/routes';

const geistSans = Geist({
	variable: '--font-geist-sans',
	subsets: ['latin'],
});

const geistMono = Geist_Mono({
	variable: '--font-geist-mono',
	subsets: ['latin'],
});

export const metadata: Metadata = {
	title: 'Create Next App',
	description: 'Generated by create next app',
};

export default function DashboardLayout({
	children,
}: Readonly<{
	children: React.ReactNode;
}>) {
	return (
		<html lang='en'>
			<body
				className={`${geistSans.variable} ${geistMono.variable} antialiased`}>
				<ConvexClientProvider>
					<ThemeProvider
						attribute={'class'}
						defaultTheme={'system'}
						enableSystem
						disableTransitionOnChange>
						<ClerkProvider dynamic>
							<div className='w-full '>
								<div className='sticky top-0 w-full navBarheight  flex flex-row justify-end items-center bg-card layoutXPadding py-4 z-[99] border-b border-border '>
									<div className='w-full flex flex-col md:flex-row items-center justify-between gap-8'>
										<span className='text-2xl md:text-4xl text-primary font-bold whitespace-nowrap '>
											Sports Addicts
										</span>
										<div className='flex flex-wrap justify-center md:justify-end w-full gap-4'>
											<Link
												href={ROUTES.home}
												scroll={false}
												className='text-sm font-medium text-primary hover:underline'>
												Home
											</Link>
											<Link
												href={ROUTES.play}
												className='text-sm font-medium text-primary hover:underline'>
												Play
											</Link>
											<Link
												href={ROUTES.support}
												className='text-sm font-medium text-primary hover:underline'>
												Support
											</Link>
										</div>
										<div className='flex items-center justify-end gap-8'>
											<SearchBar />
											<div
												className='flex justify-between items-center
										 gap-2'>
												<ThemeSwitch />
												<UserClerkMenu />
											</div>
										</div>
									</div>
								</div>
								{children}
							</div>
						</ClerkProvider>
					</ThemeProvider>
				</ConvexClientProvider>
				<Toaster />
			</body>
		</html>
	);
}
